<!doctype html>
<html>

	<head>
		<title>Quizz</title>
		<link rel="icon" type="image/x-icon" href="favicon.ico">

		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

		<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
	
		<style>
			ul,
			.tv-ul {
					list-style-type: none;
			}

			#myULasdf {
					margin: 0;
					padding: 0;
			}

			.tv-caret {
					cursor: pointer;
					-webkit-user-select: none;
					/* Safari 3.1+ */
					-moz-user-select: none;
					/* Firefox 2+ */
					-ms-user-select: none;
					/* IE 10+ */
					user-select: none;
			}

			.tv-caret::before {
					content: "\25B6";
					color: black;
					display: inline-block;
					margin-right: 6px;
			}

			.tv-caret-down::before {
					-ms-transform: rotate(90deg);
					/* IE 9 */
					-webkit-transform: rotate(90deg);
					/* Safari */
			transform: rotate(90deg);
			}

			.tv-nested {
					display: none;
			}

			.active {
					display: block;
			}
		</style>

	</head>

	<body>
		<div class="container">
			<div class="content">
				<div class="row">
					<div class="col-md-6 pt-5">
						<div id="myListTree"></div>
					</div>
				</div>
			</div>
		</div>


		<script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
		<script src="tree.js"></script>
		<script>

			var json = {
				"Jobs - AsyncTask": "",
				"Jobs - Handler": "",
				"Jobs - AlarmManager": "",
				"Jobs - SyncAdapter": "",
				"Jobs - GCMNetworkManager": "GCMNetworkManager have been replaced by FireBase JobDispatcher. If your app minimum API level is less than 21, you should use this one.",
				"Jobs - JobDispatcher": "Firebase. In your minSDK < 23.. Then you have a JobDispatcher",
				"Jobs - JobScheduler": "Android Lollipop (API level 21) introduced JobScheduler as a part of optimizing background behavior.",
				"Jobs - JobScheduler - compatibility": "Of course, implementing a background service using JobService is a very nice approach. However, JobService is a feature supported by API level 21, so there is a backward compatibility issue. In particular, if target SDK of app addresses O(26) on Android O device, executing service in background wouldnâ€™t be allowed. To clear this limitation, we should apply Job things. However, JobScheduler was introduced at API 21. So, we have to write a backward compatible code for devices not having JobScheduler.",
				"Jobs - JobScheduler - Lifecycle - implement - JobInfo": ".",		
				"Jobs - JobScheduler - Lifecycle - implement - JobService": ".",		
				"Jobs - JobScheduler - Lifecycle - implement - permission - android.permission.BIND_JOB_SERVICE": ".",		
				"Jobs - JobScheduler - Lifecycle - Start - JobService.onStartJob()": ".",		
				"Jobs - JobScheduler - Lifecycle - Run - thread": "By default, JobService runs on the main thread.",
				"Jobs - JobScheduler - Lifecycle - Stop - JobService.onStopJob()": ".",
				"Jobs - JobScheduler - Lifecycle - Stop - JobService.jobFinished()": "."
			}
    	var tree = Object.keys(json).reduce((r, s) => {
        	s.split(' - ').reduce( (q, _, i, a) => {
						var label = a.slice(0, i + 1).join(' - ');
						var temp = (q.children = q.children || []).find(o => o.label === label);
						if (!temp) q.children.push(temp = { label });
						return temp;
					}, r);
					return r;
				}, { children: [] }).children;

			console.log(tree);

			var Treedata = {
					"result": [{
							//"id": "l01",
							"displayName": "Beverages",
							"hasChild": true,
							//"isLoaded": true,
							"children": [{
									"id": "b01",
									"displayName": "Water",
									"hasChild": false,
									"isLoaded": false
							}, {
									"id": "b01",
									"displayName": "Coffee",
									"hasChild": false,
									"isLoaded": false
							}, {
									"id": "b01",
									"displayName": "Tea",
									"hasChild": false,
									"isLoaded": false
							}]
					}, {
							"id": "l02",
							"displayName": "Beverages1",
							"hasChild": true,
							"isLoaded": true,
							"children": [{
									"id": "b01",
									"displayName": "Water",
									//"hasChild": false,
									"isLoaded": false
							}, {
									"id": "b01",
									"displayName": "Coffee",
									"hasChild": false,
									"isLoaded": false
							}, {
									"id": "b01",
									"displayName": "Tea",
									"hasChild": false,
									"isLoaded": false
							}]
					}]
			};

			$('#myListTree').tree({
					data: function(){
							return Treedata.result
					},
					onDemandData: function () {
							return Treedata.result
					}
			});



		</script>

	</body>

</html>